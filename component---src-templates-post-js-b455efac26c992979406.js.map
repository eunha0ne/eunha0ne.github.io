{"version":3,"sources":["webpack:///./src/components/main/TopButton.js","webpack:///./src/components/main/TableContents.js","webpack:///./src/components/MetaTags/MetaTags.js","webpack:///./src/components/HeaderBack/HeaderBack.js","webpack:///./src/components/comments/Comments.js","webpack:///./src/templates/post.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js"],"names":["TopButton","props","_this","_Component","call","this","topButton","React","createRef","scrollUp","bind","assertThisInitialized_default","toggleClass","toggleClassThrottle","throttle","event","current","scrollTopValue","document","documentElement","scrollTop","scrollingElement","classList","contains","preventDefault","remove","add","duration","cosParameter","window","scrollY","currentPhase","timestampOld","performance","now","requestAnimationFrame","animateScroll","timestampNew","tsDiff","Math","round","PI","clearTimeout","timeoutEvent","setTimeout","pos","cos","scrollTo","componentDidMount","addEventListener","passive","componentWillUnmount","removeEventListener","render","react_default","a","createElement","ref","className","Component","TableContents","state","step","node","asideRef","asideNodes","article","headings","header","info","intervals","scrollTops","currTop","prevTop","revision","getTableContents","setIntervals","setCurrentScrollState","setComponentNode","setTableContentsPos","handleHighlight","bindScrollEvents","scrollThrottle","triggerScrollTo","setScrollTo","lockRelatedComponet","releaseRelatedComponet","_this$node$header$cla","classNames","map","apply","blockName","idx","targetTop","getElementsByClassName","offsetTop","currentTop","distance","scrolling","setState","_this$info","isTopdown","sightTop","fExpression","i","fCondition","length","currStep","prev","next","first","last","push","shift","tableContentsPos","offsetWidth","style","transform","contents","slice","heading","children","array","forEach","test","tagName","app","getElementById","aside","parentNode","getElementsByTagName","_this$props","name","TableContents_ListItem","ListItem","head","classnames","depth","key","join","onClick","value","defaultProps","propTypes","PropTypes","number","isRequired","string","MetaTags","Helmet_default","title","meta","content","property","pathname","url","thumbnail","lang","HeaderBack","isNightMode","back","setTransition","clearTransition","setToggleBack","setToggleBackThrottle","height","themeNodes","themes","states","_node$classList","selector","offsetHeight","setBackInfo","getSnapshotBeforeUpdate","prevProps","prevState","isNightModeh","componentDidUpdate","snapshot","getDerivedStateFromProps","nextProps","connect","bool","container","useRef","useEffect","config","src","repo","issue-term","theme","async","crossorigin","styles","textContent","indexOf","removeChild","script","Object","keys","setAttribute","params","URLSearchParams","location","search","has","scroll","getBoundingClientRect","top","innerHeight","set","redirectUrl","toString","history","replaceState","firstChild","previousNode","appendChild","onload","delete","originalUrl","__webpack_require__","d","__webpack_exports__","query","PostTags","_ref","data","pageContext","post","markdownRemark","_data$markdownRemark$","frontmatter","tags","layout","MetaTags_MetaTags","description","excerpt","date","components_HeaderBack_HeaderBack","components_main_TableContents","post_PostTags","dangerouslySetInnerHTML","__html","html","post_PostNavi","NameCard","comments_Comments","components_main_TopButton","tag","href","PostNavi","gatsby_browser_entry","to","fields","slug","anObject","$flags","DESCRIPTORS","$toString","define","fn","RegExp","prototype","source","flags","R","concat","undefined","f","configurable","get","toObject","$keys","it","$export","core","fails","module","exports","KEY","exec","exp","S","F"],"mappings":"iLA2FeA,sBAtFb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAEKC,UAAYC,IAAMC,YACvBN,EAAKO,SAAWP,EAAKO,SAASC,KAAdC,IAAAT,IAChBA,EAAKU,YAAcV,EAAKU,YAAYF,KAAjBC,IAAAT,IACnBA,EAAKW,oBAAsBC,YAASZ,EAAKU,YAAa,KANrCV,sCASnBU,YAAA,SAAYG,GACV,IAAMT,EAAYD,KAAKC,UAAUU,QAC3BC,EACFC,SAASC,gBAAgBC,WAAaF,SAASG,iBAAiBD,UAEhEd,EAAUgB,UAAUC,SAAS,YAC/BR,EAAMS,iBAGJP,EAAiB,KAChBX,EAAUgB,UAAUC,SAAS,WAChCjB,EAAUgB,UAAUG,OAAO,WAElB,IAAOR,IACZX,EAAUgB,UAAUC,SAAS,YACjCjB,EAAUgB,UAAUI,IAAI,cAI5BjB,SAAA,WACE,IAAMH,EAAYD,KAAKC,UAAUU,QACjC,IAAIV,EAAUgB,UAAUC,SAAS,WAAjC,CAIA,IAAMI,EAAW,IACXC,EAAeC,OAAOC,QAAU,EAClCC,EAAe,EACfC,EAAeC,YAAYC,MAuB/B5B,EAAUgB,UAAUI,IAAI,WACxBG,OAAOM,sBAtBP,SAASC,IACP,IAAMC,EAAeJ,YAAYC,MAC3BI,EAASC,KAAKC,MAAMH,EAAeL,GAIzC,GAHAA,EAAeK,GAEfN,GAAgBQ,KAAKE,IAAMd,EAAWW,KAClBC,KAAKE,GAOvB,OANAC,aAAarC,KAAKsC,cAClBtC,KAAKsC,aAAe,WAClBrC,EAAUgB,UAAUG,OAAO,iBAG7BmB,WAAWvC,KAAKsC,aAAc,KAIhC,IAAME,EAAMN,KAAKC,MAAMZ,EAAeW,KAAKO,IAAIf,GAAgBH,GAC/DC,OAAOkB,SAAS,EAAGF,GACnBhB,OAAOM,sBAAsBC,EAAc1B,KAAKL,QAIPK,KAAKL,WAGlD2C,kBAAA,WACEnB,OAAOoB,iBAAiB,SAAU5C,KAAKQ,oBAAqB,CAAEqC,SAAS,IACvE7C,KAAKC,UAAUU,QAAQiC,iBAAiB,QAAS5C,KAAKI,aAGxD0C,qBAAA,WACEtB,OAAOuB,oBAAoB,SAAU/C,KAAKQ,qBAC1CR,KAAKC,UAAUU,QAAQoC,oBAAoB,QAAS/C,KAAKI,aAG3D4C,OAAA,WACE,OACEC,EAAAC,EAAAC,cAAA,OACEC,IAAKpD,KAAKC,UACVoD,UAAU,cAEVJ,EAAAC,EAAAC,cAAA,sBAjFgBG,uCCElBC,sBACJ,SAAAA,EAAY3D,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAEKwD,MAAQ,CACXC,KAAM5D,EAAKD,MAAM6D,MAGnB5D,EAAK6D,KAAO,CACVC,SAAUzD,IAAMC,YAChByD,WAAa,KACbC,QAAS,KACTC,SAAU,KACVC,OAAQ,MAGVlE,EAAKmE,KAAO,CACVC,UAAW,GACXC,WAAY,GACZC,QAAS,EACTC,QAAS,EACTC,SAAU,IACVZ,KAAM,GAGR5D,EAAKyE,iBAAmBzE,EAAKyE,iBAAiBjE,KAAtBC,IAAAT,IACxBA,EAAK0E,aAAe1E,EAAK0E,aAAalE,KAAlBC,IAAAT,IACpBA,EAAK2E,sBAAwB3E,EAAK2E,sBAAsBnE,KAA3BC,IAAAT,IAC7BA,EAAK4E,iBAAmB5E,EAAK4E,iBAAiBpE,KAAtBC,IAAAT,IAExBA,EAAK6E,oBAAsB7E,EAAK6E,oBAAoBrE,KAAzBC,IAAAT,IAC3BA,EAAK8E,gBAAkB9E,EAAK8E,gBAAgBtE,KAArBC,IAAAT,IAEvBA,EAAK+E,iBAAmB/E,EAAK+E,iBAAiBvE,KAAtBC,IAAAT,IACxBA,EAAKgF,eAAiBpE,YAASZ,EAAK+E,iBAAkB,KAEtD/E,EAAKiF,gBAAkBjF,EAAKiF,gBAAgBzE,KAArBC,IAAAT,IACvBA,EAAKkF,YAAclF,EAAKkF,YAAY1E,KAAjBC,IAAAT,IACnBA,EAAKmF,oBAAsBnF,EAAKmF,oBAAoB3E,KAAzBC,IAAAT,IAC3BA,EAAKoF,uBAAyBpF,EAAKoF,uBAAuB5E,KAA5BC,IAAAT,IAtCbA,sCAyCnBoF,uBAAA,WACEjF,KAAK0D,KAAKC,SAAShD,QAAQM,UAAUG,OAAO,QAC5CpB,KAAK0D,KAAKK,OAAO9C,UAAUG,OAAO,WAGpC4D,oBAAA,WAAsB,IAAAE,EAEdC,EAAa,CAAE,YAAa,aAAc,aAC7CC,IAAI,SAAA/B,GAAS,MAFE,cAEcA,KAEhC6B,EAAAlF,KAAK0D,KAAKK,OAAO9C,WAAUG,OAA3BiE,MAAAH,EAAqCC,GACrCnF,KAAK0D,KAAKK,OAAO9C,UAAUI,IAAOiE,wBAAlC,QACAtF,KAAK0D,KAAKC,SAAShD,QAAQM,UAAUI,IAAI,WAG3CyD,gBAAA,SAAgBpE,EAAO6E,GAChBvF,KAAK0D,KAAKC,SAAShD,QAAQM,UAAUC,SAAS,UACjDlB,KAAKgF,sBACLhF,KAAK+E,YAAYrE,EAAO6E,OAI5BR,YAAA,SAAYrE,EAAO6E,GACjB,IAEMC,EAFc3E,SAAS4E,uBAAuB,kBAAkB,GAAGC,UACtDxD,KAAKC,MAAMnC,KAAK0D,KAAKI,SAASyB,GAAKG,WAEhDC,EAAa3F,KAAKgE,KAAKG,QACvByB,EAAW1D,KAAKC,MAAMwD,EAAaH,GAAa,EAChDlE,EAAW,IACbI,EAAe,EACfC,EAAeC,YAAYC,MAE/BL,OAAOM,sBAEP,SAAS+D,IACP,IAAM7D,EAAeJ,YAAYC,MACjC,IAAMI,EAASC,KAAKC,MAAMH,EAAeL,GACzCA,EAAeK,EAEfN,GAAgBQ,KAAKE,IAAMd,EAAWW,GACtC,GAAIP,GAAgBQ,KAAKE,GAIvB,OAHApC,KAAKiF,yBACLjF,KAAKgE,KAAKP,KAAO8B,OACjBvF,KAAK8F,SAAS,CAAErC,KAAMzD,KAAKgE,KAAKP,OAIlCjC,OAAOkB,SAAS,EAAGkD,EAAW1D,KAAKO,IAAIf,GAAgBkE,EAAWJ,GAClEhE,OAAOM,sBAAsB+D,EAAUxF,KAAKL,QAhBPK,KAAKL,UAoB9C2E,gBAAA,WASE,IATgB,IAAAoB,EACwC/F,KAAKgE,KAArDC,EADQ8B,EACR9B,UAAWE,EADH4B,EACG5B,QAASC,EADZ2B,EACY3B,QAASX,EADrBsC,EACqBtC,KAAMY,EAD3B0B,EAC2B1B,SACrC2B,EAAY5B,GAAWD,EAEvB8B,EAAW9B,GADL6B,EAAY3B,GAAwB,EAAZA,GAE9B6B,EAAc,SAAAC,GAAC,OAAIH,IAAcG,IAAMA,GACvCC,EAAa,SAAAD,GAAC,OAAIH,EAAYG,EAAIlC,EAAUoC,OAAS,EAAI,EAAIF,GAC/DG,EAAW7C,EAEN0C,EAAI1C,EAAM2C,EAAWD,GAAIA,EAAID,EAAYC,GAAI,CACpD,IAAMI,EAAOtC,EAAUkC,GAAIK,EAAOvC,EAAUkC,EAAI,GAC1CM,EAAQxC,EAAU,GAAIyC,EAAOzC,EAAUA,EAAUoC,OAAS,GAEhE,GAAIJ,EAAWQ,EAAO,CACpBzG,KAAKgE,KAAKP,KAAO,EACjB,MAGG,GAAIgD,GAASR,GAAYA,EAAWM,EAAM,CAC7CvG,KAAKgE,KAAKP,KAAO0C,EAAI,EACrB,MAGG,GAAIM,GAASR,GAAaM,EAAON,GAAYA,EAAWO,EAAO,CAClExG,KAAKgE,KAAKP,KAAO0C,EACjB,MAGG,GAAIM,GAASR,GAAYS,EAAOT,EAAU,CAC7CjG,KAAKgE,KAAKP,KAAOQ,EAAUoC,OAAS,EACpC,OAIArG,KAAKwD,MAAMC,OAAS6C,IACtBtG,KAAKgE,KAAKP,KAAO6C,EACjBtG,KAAK8F,SAAS,CAAErC,KAAM6C,QAI1B1B,iBAAA,WACE5E,KAAKwE,wBACLxE,KAAK2E,qBAGPH,sBAAA,WACE,IAAMzD,EAAYF,SAASC,gBAAgBC,WAAaF,SAASG,iBAAiBD,UAClFf,KAAKgE,KAAKE,WAAWyC,KAAKzE,KAAKC,MAAMpB,IACjCf,KAAKgE,KAAKE,WAAWmC,OAAS,IAChCrG,KAAKgE,KAAKI,QAAUpE,KAAKgE,KAAKE,WAAW0C,SAG3C5G,KAAKgE,KAAKG,QAAUnE,KAAKgE,KAAKE,WAAW,MAI3CQ,oBAAA,WAEE,IAGMmC,EAHU7G,KAAK0D,KAAKG,QAGOiD,YAEjC9G,KAAK0D,KAAKC,SAAShD,QAAQoG,MAAMC,UAAjC,cAA4DH,EAA5D,SAIFtC,aAAA,WACE,IAAM0C,EAAWpG,SAAS4E,uBAAuB,kBAAkB,GACnEzF,KAAKgE,KAAKC,UAAY,GAAGiD,MAAM7B,MAAMrF,KAAK0D,KAAKI,UAAUsB,IAAI,SAAC+B,GAC5D,OAAOA,EAAQzB,UAAYuB,EAASvB,eAIxCpB,iBAAA,WACE,IAAM8C,EAAW,GAAGF,MAAM7B,MAAMrF,KAAK0D,KAAKuD,SAASxB,uBAAuB,YAAY,GAAG2B,UACrFC,EAAQ,GAMZ,OAJAD,EAASE,QAAQ,SAAA5D,GACX,WAAW6D,KAAK7D,EAAK8D,UAAUH,EAAMV,KAAKjD,KAGzC2D,KAGT5C,iBAAA,WACE,IAAMgD,EAAM5G,SAAS6G,eAAe,aAC9BC,EAAQ3H,KAAK0D,KAAKC,SAAShD,QAEjCX,KAAK0D,KAAKG,QAAU8D,EAAMC,WAC1B5H,KAAK0D,KAAKE,WAAa,GAAGsD,MAAM7B,MAAMsC,EAAME,qBAAqB,OACjE7H,KAAK0D,KAAKK,OAAS0D,EAAIhC,uBAAuB,eAAe,GAC7DzF,KAAK0D,KAAKuD,SAAWQ,EAAIhC,uBAAuB,kBAAkB,GAClEzF,KAAK0D,KAAKI,SAAW9D,KAAKsE,sBAG5B3B,kBAAA,WACE3C,KAAKyE,mBACLzE,KAAKuE,eACLvE,KAAK0E,sBAELlD,OAAOoB,iBAAiB,SAAU5C,KAAK6E,eAAgB,CAAEhC,SAAS,IAClErB,OAAOoB,iBAAiB,SAAU5C,KAAK0E,oBAAqB,CAAE7B,SAAS,OAGzEC,qBAAA,WACEtB,OAAOuB,oBAAoB,SAAU/C,KAAK6E,gBAC1CrD,OAAOuB,oBAAoB,SAAU/C,KAAK0E,wBAG5C1B,OAAA,WAAS,IACCS,EAASzD,KAAKwD,MAAdC,KADDqE,EAEoB9H,KAAKJ,MAAxBmI,EAFDD,EAECC,KAAMjE,EAFPgE,EAEOhE,SACd,OACEb,EAAAC,EAAAC,cAAA,OAAKE,UAAU,MAAMD,IAAKpD,KAAK0D,KAAKC,UAClCV,EAAAC,EAAAC,cAAA,KAAGE,UAAU,cAAc0E,GAC3B9E,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aACZJ,EAAAC,EAAAC,cAAC6E,EAAD,CAAUlE,SAAUA,EAAUL,KAAMA,EAAMf,SAAU1C,KAAK8E,wBAnNvCxB,cA0NtB2E,EAAW,SAACrI,GAAU,IAClBkE,EAA6BlE,EAA7BkE,SAAUL,EAAmB7D,EAAnB6D,KAAMf,EAAa9C,EAAb8C,SACxB,OAAOoB,EAASsB,IAAI,SAAC8C,EAAM3C,GACzB,IAAM4C,EAAa,iBACAD,EAAKE,MAAY7C,IAAQ9B,EAAO,KAAO,IAG1D,OACER,EAAAC,EAAAC,cAAA,MACEkF,IAAG,OAAS9C,EACZlC,UAAW8E,EAAWG,KAAK,KAC3BC,QAAS,SAAA7H,GAAK,OAAIgC,EAAShC,EAAO6E,KAEjC2C,EAAKM,UAMdjF,EAAckF,aAAe,CAC3BhF,KAAM,EACNsE,KAAM,MAGRxE,EAAcmF,UAAY,CACxBjF,KAAMkF,IAAUC,OAAOC,WACvBd,KAAMY,IAAUG,OAAOD,YAGVtF,0BC7LAwF,MA7Df,SAAkBnJ,GAChB,OACEqD,EAAAC,EAAAC,cAAC6F,EAAA9F,EAAD,CACE+F,MAAOrJ,EAAMqJ,MACbC,KAAM,CACJ,CAAEnB,KAAM,QAASoB,QAASvJ,EAAMqJ,MAAN,iBAC1B,CAAElB,KAAM,cAAeoB,QAAS,kBAChC,CACEC,SAAU,WACVD,QAASvJ,EAAMqJ,OAEjB,CACEG,SAAU,SACVD,QAASvJ,EAAMyJ,SAAWzJ,EAAM0J,IAAM1J,EAAMyJ,SAAWzJ,EAAM0J,KAE/D,CACEF,SAAU,WACVD,QAASvJ,EAAM2J,WAAa3J,EAAM2J,WAEpC,CACEH,SAAU,sBACVD,QAASvJ,EAAM2J,WAAa3J,EAAM2J,WAEpC,CACEH,SAAU,iBACVD,QAAS,kBAEX,CACEC,SAAU,iBACVD,QAAS,QAEX,CACEC,SAAU,kBACVD,QAAS,OAEX,CACEC,SAAU,YACVD,QAAS,MAEX,CAAEpB,KAAM,eAAgBoB,QAAS,uBACjC,CAAEpB,KAAM,gBAAiBoB,QAASvJ,EAAMqJ,OACxC,CACElB,KAAM,sBACNoB,QAAS,kBAEX,CACEpB,KAAM,gBACNoB,QAASvJ,EAAM2J,WAAa3J,EAAM2J,WAEpC,CAAEH,SAAU,UAAWD,QAAS,WAChC,CAAEpB,KAAM,SAAUoB,QAAS,iBAE3B,CAAEpB,KAAM,kBAAmBoB,QAAS,aACpC,CAAEC,SAAU,eAAgBD,QAAO,iBAGrClG,EAAAC,EAAAC,cAAA,QAAMqG,KAAK,iBCpDXC,sBACJ,SAAAA,EAAY7J,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAEKwD,MAAQ,CACXkG,YAAa7J,EAAKD,MAAM8J,aAG1B7J,EAAK6D,KAAO,CAAEiG,KAAMzJ,IAAMC,aAC1BN,EAAKmE,KAAO,GAEZnE,EAAK+J,cAAgB/J,EAAK+J,cAAcvJ,KAAnBC,IAAAT,IACrBA,EAAKgK,gBAAkBhK,EAAKgK,gBAAgBxJ,KAArBC,IAAAT,IACvBA,EAAKiK,cAAgBjK,EAAKiK,cAAczJ,KAAnBC,IAAAT,IACrBA,EAAKkK,sBAAwBtJ,YAASZ,EAAKiK,cAAe,KAbzCjK,sCAgBnBiK,cAAA,YACoBjJ,SAASC,gBAAgBC,WAAaF,SAASG,iBAAiBD,YAC/Df,KAAKgE,KAAK2F,KAAKK,OAELhK,KAAK6J,kBAC7B7J,KAAK4J,mBAGZC,gBAAA,WACE,IAAMI,EAAajK,KAAK0D,KAAKwG,OACvBC,EAAS,CAAE,QAAS,QAE1BF,EAAW3C,QAAQ,SAAA5D,GAAI,IAAA0G,EAAA,OAAIA,EAAA1G,EAAKzC,WAAUG,OAAfiE,MAAA+E,EAAyBD,QAGtDP,cAAA,WACE,IAAMS,EAAWrK,KAAKwD,MAAMkG,YAAc,QAAU,MAC9ChG,EAAO1D,KAAK0D,KAAKiG,KAAKhJ,QAAQ8E,uBAAuB4E,GAAU,GAErE3G,EAAKzC,UAAUI,IAAI,SACnBkB,WAAW,WAAQmB,EAAKzC,UAAUI,IAAI,SAAW,OAGnDoD,iBAAA,WACE,IAAMkF,EAAO3J,KAAK0D,KAAKiG,KAAKhJ,QAC5BX,KAAKgE,KAAK2F,KAAO,CAAEK,OAAQL,EAAKW,cAChCtK,KAAK0D,KAAKwG,OAAS,CACjBP,EAAKlE,uBAAuB,OAAO,GACnCkE,EAAKlE,uBAAuB,SAAS,OAIzC9C,kBAAA,WACE3C,KAAKyE,mBACLzE,KAAK4J,gBAELpI,OAAOoB,iBAAiB,SAAU5C,KAAK+J,sBAAuB,CAAElH,SAAS,IACzErB,OAAOoB,iBAAiB,SAAU5C,KAAKuK,YAAa,CAAE1H,SAAS,OAGjEC,qBAAA,WACEtB,OAAOuB,oBAAoB,SAAU/C,KAAK+J,uBAC1CvI,OAAOuB,oBAAoB,SAAU/C,KAAKuK,gBAG5CC,wBAAA,SAAwBC,EAAWC,GAEjC,OAAID,EAAUE,eAAiB3K,KAAKJ,MAAM8J,YACjCe,EAAUf,YACL,QAGhBkB,mBAAA,SAAmBH,EAAWC,EAAWG,GAEtB,OAAbA,IACF7K,KAAK6J,kBACL7J,KAAK4J,oBAIFkB,yBAAP,SAAgCC,EAAWL,GACzC,OAAIA,EAAUhB,cAAgBqB,EAAUrB,YAC/B,CAAEA,YAAaqB,EAAUrB,aACpB,QAGhB1G,OAAA,WACE,OACCC,EAAAC,EAAAC,cAAA,OAAKC,IAAKpD,KAAK0D,KAAKiG,KAAMtG,UAAU,eAClCJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,OACZJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,WACdJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aACdJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,cAEhBJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,SACZJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,YACdJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,YACdJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,YACdJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,YACdJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,YACdJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,kBAjGEC,cAyGV0H,cAAQ,SAAAxH,GACrB,MAAQ,CAAEkG,YAAalG,EAAMiE,IAAIiC,cAChC,KAFYsB,CAENvB,GAETA,EAAWf,UAAY,CACrBgB,YAAaf,IAAUsC,mBCjDVD,qDAAQ,SAAAxH,GAAK,MAAK,CAC/BkG,YAAalG,EAAMiE,IAAIiC,cACrB,KAFWsB,CAjEE,SAACpL,GAChB,IAAIsL,EAAYC,mBA6DhB,OA3DAC,oBAAU,WACR,GAAKF,EAAUvK,QAAf,CAIA,IACM0K,EAAS,CACbC,IAAK,gCACLC,KAAM,yBACNC,aAAc,WACdC,MALgB7L,EAAM8J,YAAc,cAAgB,eAMpDgC,OAAO,EACPC,YAAa,aAKTC,GADO/K,SAASqH,KACPrH,SAASqH,KAAKL,qBAAqB,UAC9C+D,EAAO,KAAuD,IAAjDA,EAAO,GAAGC,YAAYC,QAAQ,eAC7CF,EAAO,GAAGhE,WAAWmE,YAAYH,EAAO,IAG1C,IAAMI,EAASnL,SAASsC,cAAc,UACtC8I,OAAOC,KAAKb,GAAQ/D,QAAQ,SAAAe,GAC1B2D,EAAOG,aAAa9D,EAAKgD,EAAOhD,MAIlC,IAAM+D,EAAS,IAAIC,gBAAgB7K,OAAO8K,SAASC,QACnD,GAAIH,EAAOI,IAAI,cAAe,CAC5B,IACMC,EADiBvB,EAAUvK,QAAQ+L,wBAAwBC,IACjCnL,OAAOoL,YACvCpL,OAAOiL,OAAO,EAAGA,GAKnBL,EAAOS,IAAI,cAAc,GACzB,IAAMC,EAAiBtL,OAAO8K,SAASjD,SAAtB,IAAkC+C,EAAOW,WAI1D,IAHAvL,OAAOwL,QAAQC,aAAa,KAAM,GAAIH,GAG/B5B,EAAUvK,QAAQuM,YAAY,CACnC,IAAMC,EAAejC,EAAUvK,QAAQ8E,uBAAuB,cAAc,GACxE0H,GAAcjC,EAAUvK,QAAQoL,YAAYoB,GAIlDjC,EAAUvK,QAAQyM,YAAYpB,GAG9BA,EAAOqB,OAAS,WACdjB,EAAOkB,OAAO,cACd,IAAMf,EAASH,EAAOW,WAChBQ,EAAc/L,OAAO8K,SAASjD,UAAYkD,GAAM,IAAQA,GAC9D/K,OAAOwL,QAAQC,aAAa,KAAM,GAAIM,OAInCtK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBAAgBD,IAAK8H,4BCjE7CsC,EAAAC,EAAAC,EAAA,0BAAAC,IAaO,IAAMA,EAAK,YAyDZC,GAxCSF,EAAA,iBAAAG,GAA2B,IAAxBC,EAAwBD,EAAxBC,KAAMC,EAAkBF,EAAlBE,YACdvH,EAAeuH,EAAfvH,KAAMD,EAASwH,EAATxH,KACRyH,EAAOF,EAAKG,eAFsBC,EAGhBJ,EAAKG,eAAeE,YAApClF,EAHgCiF,EAGhCjF,MAAOmF,EAHyBF,EAGzBE,KAKf,OACEnL,EAAAC,EAAAC,cAACkL,EAAA,EAAD,KACEpL,EAAAC,EAAAC,cAACmL,EAAD,CACErF,MAAOA,EACPsF,YAAaT,EAAKG,eAAeO,UAEnCvL,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,WAASE,UAAU,QACjBJ,EAAAC,EAAAC,cAAA,UAAQE,UAAU,gBAChBJ,EAAAC,EAAAC,cAAA,UAAK6K,EAAKG,YAAYlF,OACtBhG,EAAAC,EAAAC,cAAA,YAAO6K,EAAKG,YAAYM,MACxBxL,EAAAC,EAAAC,cAACuL,EAAD,OAGFzL,EAAAC,EAAAC,cAAA,WAASE,UAAU,kBACjBJ,EAAAC,EAAAC,cAACwL,EAAD,CAAe7K,SAAUkK,EAAKlK,WAC7BsK,GAAQnL,EAAAC,EAAAC,cAACyL,EAAD,CAAUR,KAAMA,IACzBnL,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WAAWwL,wBAAyB,CAAEC,OAAQd,EAAKe,SAGpE9L,EAAAC,EAAAC,cAAA,WAASE,UAAU,gBACjBJ,EAAAC,EAAAC,cAAC6L,EAAD,CAAUzI,KAAMA,EAAMC,KAAMA,IAC5BvD,EAAAC,EAAAC,cAAC8L,EAAA,EAAD,MACAhM,EAAAC,EAAAC,cAAC+L,EAAD,MACAjM,EAAAC,EAAAC,cAACgM,EAAD,WAQK,SAACvP,GAAU,IAClBwO,EAASxO,EAATwO,KACR,OACEnL,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACZ+K,EAAKhJ,IAAI,SAACgK,EAAKjJ,GAAN,OACRlD,EAAAC,EAAAC,cAAA,KAAGkM,KAAI,IAAMD,EAAO/G,IAAKlC,GACtBiJ,QAOLE,EAAW,SAAC1P,GAAU,IAClB2G,EAAe3G,EAAf2G,KAAMC,EAAS5G,EAAT4G,KACd,OACEvD,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACdkD,GACCtD,EAAAC,EAAAC,cAACoM,EAAA,EAAD,CAAMC,GAAIjJ,EAAK7C,KAAK+L,OAAOC,KAAMrM,UAAU,cACzCJ,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,SAAIoD,EAAK7C,KAAKyK,YAAYlF,QAG7BzC,GACCvD,EAAAC,EAAAC,cAACoM,EAAA,EAAD,CAAMC,GAAIhJ,EAAK9C,KAAK+L,OAAOC,KAAMrM,UAAU,cACzCJ,EAAAC,EAAAC,cAAA,SAAIqD,EAAK9C,KAAKyK,YAAYlF,OAC1BhG,EAAAC,EAAAC,cAAA,sDC/FRqK,EAAQ,KACR,IAAAmC,EAAenC,EAAQ,GACvBoC,EAAapC,EAAQ,IACrBqC,EAAkBrC,EAAQ,IAE1BsC,EAAA,aAEAC,EAAA,SAAAC,GACExC,EAAQ,GAARA,CAAqByC,OAAAC,UAJvB,WAIuBF,GAAA,IAInBxC,EAAQ,GAARA,CAAkB,WAAe,MAAkD,QAAlDsC,EAAA/P,KAAA,CAAwBoQ,OAAA,IAAAC,MAAA,QAC7DL,EAAA,WACA,IAAAM,EAAAV,EAAA3P,MACA,UAAAsQ,OAAAD,EAAAF,OAAA,IACA,UAAAE,IAAAD,OAAAP,GAAAQ,aAAAJ,OAAAL,EAAA7P,KAAAsQ,QAAAE,KAZA,YAeCT,EAAA/H,MACDgI,EAAA,WACA,OAAAD,EAAA/P,KAAAC,6BCrBIwN,EAAQ,KAAgB,UAAA4C,OAAwB5C,EAAQ,IAAcgD,EAAAP,OAAAC,UAAA,SAC1EO,cAAA,EACAC,IAAOlD,EAAQ,2BCFf,IAAAmD,EAAenD,EAAQ,IACvBoD,EAAYpD,EAAQ,IAEpBA,EAAQ,IAARA,CAAuB,kBACvB,gBAAAqD,GACA,OAAAD,EAAAD,EAAAE,4BCLA,IAAAC,EAActD,EAAQ,IACtBuD,EAAWvD,EAAQ,IACnBwD,EAAYxD,EAAQ,IACpByD,EAAAC,QAAA,SAAAC,EAAAC,GACA,IAAApB,GAAAe,EAAA9E,QAAA,IAA6BkF,IAAAlF,OAAAkF,GAC7BE,EAAA,GACAA,EAAAF,GAAAC,EAAApB,GACAc,IAAAQ,EAAAR,EAAAS,EAAAP,EAAA,WAAqDhB,EAAA,KAAS,SAAAqB","file":"component---src-templates-post-js-b455efac26c992979406.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport throttle from \"../common/throttle.js\"\r\nimport \"./TopButton.scss\";\r\n\r\nclass TopButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.topButton = React.createRef();\r\n    this.scrollUp = this.scrollUp.bind(this);\r\n    this.toggleClass = this.toggleClass.bind(this);\r\n    this.toggleClassThrottle = throttle(this.toggleClass, 200);\r\n  }\r\n\r\n  toggleClass(event) {\r\n    const topButton = this.topButton.current;\r\n    const scrollTopValue\r\n      = document.documentElement.scrollTop || document.scrollingElement.scrollTop;\r\n\r\n    if (topButton.classList.contains('clicked')) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (scrollTopValue < 1000\r\n      && topButton.classList.contains('fade-in')) {\r\n      topButton.classList.remove('fade-in');\r\n\r\n    } else if (1000 < scrollTopValue\r\n      && !topButton.classList.contains('fade-in')) {\r\n      topButton.classList.add('fade-in');\r\n    }\r\n  }\r\n\r\n  scrollUp() {\r\n    const topButton = this.topButton.current;\r\n    if (topButton.classList.contains('clicked')) {\r\n      return;\r\n    }\r\n\r\n    const duration = 1000;\r\n    const cosParameter = window.scrollY / 2;\r\n    let currentPhase = 0;\r\n    let timestampOld = performance.now();\r\n\r\n    function animateScroll() {\r\n      const timestampNew = performance.now();\r\n      const tsDiff = Math.round(timestampNew - timestampOld);\r\n      timestampOld = timestampNew;\r\n\r\n      currentPhase += Math.PI / (duration / tsDiff);\r\n      if (currentPhase >= Math.PI) {\r\n        clearTimeout(this.timeoutEvent);\r\n        this.timeoutEvent = function () {\r\n          topButton.classList.remove('clicked');\r\n        }\r\n\r\n        setTimeout(this.timeoutEvent, 300);\r\n        return;\r\n      }\r\n\r\n      const pos = Math.round(cosParameter * Math.cos(currentPhase) + cosParameter);\r\n      window.scrollTo(0, pos);\r\n      window.requestAnimationFrame(animateScroll.bind(this));\r\n    }\r\n\r\n    topButton.classList.add('clicked');\r\n    window.requestAnimationFrame(animateScroll.bind(this));\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.toggleClassThrottle, { passive: true });\r\n    this.topButton.current.addEventListener('click', this.scrollUp);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.toggleClassThrottle);\r\n    this.topButton.current.removeEventListener('click', this.scrollUp);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        ref={this.topButton}\r\n        className=\"top-button\"\r\n      >\r\n        <span>↑</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TopButton;\r\n","import React, { Component }  from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport throttle from \"../common/throttle\"\r\nimport \"./TableContents.scss\"\r\n\r\n\r\nclass TableContents extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      step: this.props.step\r\n    };\r\n\r\n    this.node = {\r\n      asideRef: React.createRef(),\r\n      asideNodes : null,\r\n      article: null,\r\n      headings: null,\r\n      header: null\r\n    };\r\n\r\n    this.info = {\r\n      intervals: [],\r\n      scrollTops: [],\r\n      currTop: 0,\r\n      prevTop: 0,\r\n      revision: 100,\r\n      step: 0,\r\n    };\r\n\r\n    this.getTableContents = this.getTableContents.bind(this);\r\n    this.setIntervals = this.setIntervals.bind(this);\r\n    this.setCurrentScrollState = this.setCurrentScrollState.bind(this)\r\n    this.setComponentNode = this.setComponentNode.bind(this);\r\n\r\n    this.setTableContentsPos = this.setTableContentsPos.bind(this);\r\n    this.handleHighlight = this.handleHighlight.bind(this);\r\n\r\n    this.bindScrollEvents = this.bindScrollEvents.bind(this);\r\n    this.scrollThrottle = throttle(this.bindScrollEvents, 100);\r\n\r\n    this.triggerScrollTo = this.triggerScrollTo.bind(this);\r\n    this.setScrollTo = this.setScrollTo.bind(this);\r\n    this.lockRelatedComponet = this.lockRelatedComponet.bind(this);\r\n    this.releaseRelatedComponet = this.releaseRelatedComponet.bind(this);\r\n  }\r\n\r\n  releaseRelatedComponet() {\r\n    this.node.asideRef.current.classList.remove('lock')\r\n    this.node.header.classList.remove('lock');\r\n  }\r\n\r\n  lockRelatedComponet() {\r\n    const blockName = 'main-header';\r\n    const classNames = [ '--fade-in', '--fade-out', '--docking' ]\r\n      .map(className => blockName + className);\r\n\r\n    this.node.header.classList.remove(...classNames);\r\n    this.node.header.classList.add(`${blockName}--fade-out`, `lock`);\r\n    this.node.asideRef.current.classList.add('lock');\r\n  }\r\n\r\n  triggerScrollTo(event, idx) {\r\n    if (!this.node.asideRef.current.classList.contains('lock')) {\r\n      this.lockRelatedComponet();\r\n      this.setScrollTo(event, idx);\r\n    }\r\n  }\r\n\r\n  setScrollTo(event, idx) {\r\n    const contentsTop = document.getElementsByClassName('post__contents')[0].offsetTop;\r\n    const headingTop = Math.round(this.node.headings[idx].offsetTop);\r\n    const targetTop = contentsTop + headingTop;\r\n    const currentTop = this.info.currTop;\r\n    const distance = Math.round(currentTop - targetTop) / 2;\r\n    const duration = 1000;\r\n    let currentPhase = 0;\r\n    let timestampOld = performance.now();\r\n\r\n    window.requestAnimationFrame(scrolling.bind(this));\r\n\r\n    function scrolling() {\r\n      const timestampNew = performance.now();\r\n      const tsDiff = Math.round(timestampNew - timestampOld);\r\n      timestampOld = timestampNew;\r\n\r\n      currentPhase += Math.PI / (duration / tsDiff);\r\n      if (currentPhase >= Math.PI) {\r\n        this.releaseRelatedComponet();\r\n        this.info.step = idx;\r\n        this.setState({ step: this.info.step });\r\n        return;\r\n      }\r\n\r\n      window.scrollTo(0, distance * Math.cos(currentPhase) + distance + targetTop);\r\n      window.requestAnimationFrame(scrolling.bind(this));\r\n    }\r\n  }\r\n\r\n  handleHighlight() {\r\n    const { intervals, currTop, prevTop, step, revision } = this.info;\r\n    const isTopdown = prevTop <= currTop ? true : false;\r\n    const dir = isTopdown ? revision : (revision * -1);\r\n    const sightTop = currTop + dir;\r\n    const fExpression = i => isTopdown ? ++i : --i;\r\n    const fCondition = i => isTopdown ? i < intervals.length - 1 : 0 < i;\r\n    let currStep = step;\r\n\r\n    for (let i = step; fCondition(i); i = fExpression(i)) {\r\n      const prev = intervals[i], next = intervals[i + 1];\r\n      const first = intervals[0], last = intervals[intervals.length - 1];\r\n\r\n      if (sightTop < first) {\r\n        this.info.step = 0;\r\n        break;\r\n      }\r\n\r\n      else if (first <= sightTop && sightTop < prev) {\r\n        this.info.step = i - 1;\r\n        break;\r\n      }\r\n\r\n      else if (first <= sightTop && (prev < sightTop && sightTop < next)) {\r\n        this.info.step = i;\r\n        break;\r\n      }\r\n\r\n      else if (first <= sightTop && last < sightTop) {\r\n        this.info.step = intervals.length - 1;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.state.step !== currStep) {\r\n      this.info.step = currStep;\r\n      this.setState({ step: currStep });\r\n    }\r\n  }\r\n\r\n  bindScrollEvents() {\r\n    this.setCurrentScrollState();\r\n    this.handleHighlight();\r\n  }\r\n\r\n  setCurrentScrollState() {\r\n    const scrollTop = document.documentElement.scrollTop || document.scrollingElement.scrollTop\r\n    this.info.scrollTops.push(Math.round(scrollTop));\r\n    if (this.info.scrollTops.length > 1) {\r\n      this.info.prevTop = this.info.scrollTops.shift();\r\n    }\r\n\r\n    this.info.currTop = this.info.scrollTops[0];\r\n  }\r\n\r\n  // === 집에가서 수정할 부분 ===\r\n  setTableContentsPos() {\r\n    // const doc = document.body;\r\n    const article = this.node.article;\r\n    // const docAutoMarginVal = doc.offsetWidth - article.offsetWidth;\r\n    // const tableContentsPos = article.offsetWidth + (docAutoMarginVal / 2);\r\n    const tableContentsPos = article.offsetWidth;\r\n\r\n    this.node.asideRef.current.style.transform = `translateX(${ tableContentsPos }px)`;\r\n  }\r\n  // ==============================\r\n\r\n  setIntervals() {\r\n    const contents = document.getElementsByClassName('post__contents')[0];\r\n    this.info.intervals = [].slice.apply(this.node.headings).map((heading) => {\r\n      return heading.offsetTop + contents.offsetTop;\r\n    });\r\n  }\r\n\r\n  getTableContents() {\r\n    const children = [].slice.apply(this.node.contents.getElementsByClassName('markdown')[0].children);\r\n    let array = [];\r\n\r\n    children.forEach(node => {\r\n      if (/^H[1-6]$/.test(node.tagName)) array.push(node);\r\n    });\r\n\r\n    return array;\r\n  }\r\n\r\n  setComponentNode() {\r\n    const app = document.getElementById('___gatsby');\r\n    const aside = this.node.asideRef.current;\r\n\r\n    this.node.article = aside.parentNode;\r\n    this.node.asideNodes = [].slice.apply(aside.getElementsByTagName('li'));\r\n    this.node.header = app.getElementsByClassName('main-header')[0];\r\n    this.node.contents = app.getElementsByClassName('post__contents')[0];\r\n    this.node.headings = this.getTableContents();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setComponentNode();\r\n    this.setIntervals();\r\n    this.setTableContentsPos();\r\n\r\n    window.addEventListener('scroll', this.scrollThrottle, { passive: true });\r\n    window.addEventListener('resize', this.setTableContentsPos, { passive: true });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.scrollThrottle);\r\n    window.removeEventListener('resize', this.setTableContentsPos);\r\n  }\r\n\r\n  render() {\r\n    const { step } = this.state;\r\n    const { name, headings } = this.props;\r\n    return (\r\n      <div className=\"toc\" ref={this.node.asideRef}>\r\n        <p className=\"toc__title\">{name}</p>\r\n        <ul className=\"toc__list\">\r\n          <ListItem headings={headings} step={step} scrollTo={this.triggerScrollTo} />\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ListItem = (props) => {\r\n  const { headings, step, scrollTo } = props;\r\n  return headings.map((head, idx) => {\r\n    const classnames = [\r\n      `toc__item`, `h${head.depth}`, `${idx === step ? 'on' : ''}`\r\n    ];\r\n\r\n    return (\r\n      <li\r\n        key={`toc-${idx}`}\r\n        className={classnames.join(' ')}\r\n        onClick={event => scrollTo(event, idx)}\r\n      >\r\n        {head.value}\r\n      </li>\r\n    );\r\n  })\r\n};\r\n\r\nTableContents.defaultProps = {\r\n  step: 0,\r\n  name: '목차'\r\n};\r\n\r\nTableContents.propTypes = {\r\n  step: PropTypes.number.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default TableContents;\r\n","import React from 'react';\r\nimport Helmet from 'react-helmet'\r\n\r\nfunction MetaTags(props) {\r\n  return (\r\n    <Helmet\r\n      title={props.title}\r\n      meta={[\r\n        { name: 'title', content: props.title + `| eunha's dev` },\r\n        { name: 'description', content: '은하의 개발 블로그입니다.' }, //props.description },\r\n        {\r\n          property: 'og:title',\r\n          content: props.title,\r\n        },\r\n        {\r\n          property: 'og:url',\r\n          content: props.pathname ? props.url + props.pathname : props.url,\r\n        },\r\n        {\r\n          property: 'og:image',\r\n          content: props.thumbnail && props.thumbnail,\r\n        },\r\n        {\r\n          property: 'og:image:secure_url',\r\n          content: props.thumbnail && props.thumbnail,\r\n        },\r\n        {\r\n          property: 'og:description',\r\n          content: '은하의 개발 블로그입니다.' //props.description,\r\n        },\r\n        {\r\n          property: 'og:image:width',\r\n          content: '1200',\r\n        },\r\n        {\r\n          property: 'og:image:height',\r\n          content: '630',\r\n        },\r\n        {\r\n          property: 'og:locale',\r\n          content: 'en',\r\n        },\r\n        { name: 'twitter:card', content: 'summary_large_image' },\r\n        { name: 'twitter:title', content: props.title },\r\n        {\r\n          name: 'twitter:description',\r\n          content: '은하의 개발 블로그입니다.' // props.description,\r\n        },\r\n        {\r\n          name: 'twitter:image',\r\n          content: props.thumbnail && props.thumbnail,\r\n        },\r\n        { property: 'og:type', content: 'website' },\r\n        { name: 'robots', content: 'index, follow' },\r\n\r\n        { name: 'twitter:creator', content: '@eunha0ne' },\r\n        { property: 'og:site_name', content: `eunha's dev` }\r\n      ]}\r\n    >\r\n      <html lang=\"en\" />\r\n    </Helmet>\r\n  );\r\n}\r\n\r\nexport default MetaTags;\r\n","import React, { Component }  from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport throttle from \"src/components/common/throttle.js\"\r\nimport { connect } from 'react-redux';\r\n// import { toggleTheme } from 'src/state/app';\r\nimport \"./HeaderBack.scss\";\r\n\r\nclass HeaderBack extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isNightMode: this.props.isNightMode,\r\n    };\r\n\r\n    this.node = { back: React.createRef() };\r\n    this.info = { };\r\n\r\n    this.setTransition = this.setTransition.bind(this);\r\n    this.clearTransition = this.clearTransition.bind(this);\r\n    this.setToggleBack = this.setToggleBack.bind(this);\r\n    this.setToggleBackThrottle = throttle(this.setToggleBack, 100);\r\n  }\r\n\r\n  setToggleBack() {\r\n    const scrollTop = document.documentElement.scrollTop || document.scrollingElement.scrollTop;\r\n    const backHeight = this.info.back.height;\r\n\r\n    if (scrollTop >= backHeight) this.clearTransition();\r\n    else this.setTransition();\r\n  }\r\n\r\n  clearTransition() {\r\n    const themeNodes = this.node.themes;\r\n    const states = [ 'enter', 'done' ];\r\n\r\n    themeNodes.forEach(node => node.classList.remove(...states));\r\n  }\r\n\r\n  setTransition() {\r\n    const selector = this.state.isNightMode ? 'night' : 'day';\r\n    const node = this.node.back.current.getElementsByClassName(selector)[0];\r\n\r\n    node.classList.add('enter');\r\n    setTimeout(() => { node.classList.add('done') }, 30);\r\n  }\r\n\r\n  setComponentNode() {\r\n    const back = this.node.back.current;\r\n    this.info.back = { height: back.offsetHeight };\r\n    this.node.themes = [\r\n      back.getElementsByClassName('day')[0],\r\n      back.getElementsByClassName('night')[0]\r\n    ];\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setComponentNode();\r\n    this.setTransition();\r\n\r\n    window.addEventListener('scroll', this.setToggleBackThrottle, { passive: true });\r\n    window.addEventListener('resize', this.setBackInfo, { passive: true });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.setToggleBackThrottle);\r\n    window.removeEventListener('resize', this.setBackInfo);\r\n  }\r\n\r\n  getSnapshotBeforeUpdate(prevProps, prevState) {\r\n    // console.log('prevProps', prevProps.isNightMode, 'this.props', this.props.isNightMode)\r\n    if (prevProps.isNightModeh !== this.props.isNightMode) {\r\n      return prevProps.isNightMode;\r\n    } else return null;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    // console.log(prevProps, prevState, 'snapshot', snapshot)\r\n    if (snapshot !== null) {\r\n      this.clearTransition();\r\n      this.setTransition();\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.isNightMode !== nextProps.isNightMode) {\r\n      return { isNightMode: nextProps.isNightMode };\r\n    } else return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n     <div ref={this.node.back} className=\"header-back\" >\r\n       <ul className=\"day\">\r\n         <li className=\"cactus\"></li>\r\n         <li className=\"cloud c1\"></li>\r\n         <li className=\"cloud c2\"></li>\r\n       </ul>\r\n       <ul className=\"night\">\r\n         <li className=\"star s1\"></li>\r\n         <li className=\"star s2\"></li>\r\n         <li className=\"star s3\"></li>\r\n         <li className=\"star s4\"></li>\r\n         <li className=\"star s5\"></li>\r\n         <li className=\"star s6\"></li>\r\n       </ul>\r\n     </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default HeaderBack;\r\nexport default connect(state => {\r\n  return ({ isNightMode: state.app.isNightMode });\r\n}, null)(HeaderBack);\r\n\r\nHeaderBack.propTypes = {\r\n  isNightMode: PropTypes.bool,\r\n};\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Comments = (props) => {\r\n  let container = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!container.current) {\r\n      return;\r\n    }\r\n\r\n    const themeType = props.isNightMode ? 'github-dark' : 'github-light';\r\n    const config = {\r\n      src: 'https://utteranc.es/client.js',\r\n      repo: 'eunha0ne/blog-comments',\r\n      'issue-term': 'pathname',\r\n      theme: themeType,\r\n      async: true,\r\n      crossorigin: 'anonymous',\r\n    };\r\n\r\n    // 기존 헤딩 스타일 중복 제거\r\n    const head = document.head;\r\n    const styles = document.head.getElementsByTagName('style');\r\n    if (styles[1] && styles[1].textContent.indexOf('utterances') !== -1) {\r\n      styles[1].parentNode.removeChild(styles[1]);\r\n    }\r\n\r\n    const script = document.createElement('script');\r\n    Object.keys(config).forEach(key => {\r\n      script.setAttribute(key, config[key]);\r\n    });\r\n\r\n    // If the 'commenting' URL param is present then scroll to the comments\r\n    const params = new URLSearchParams(window.location.search)\r\n    if (params.has('commenting')) {\r\n      const commentsScroll = container.current.getBoundingClientRect().top;\r\n      const scroll = commentsScroll + window.innerHeight;\r\n      window.scroll(0, scroll)\r\n    }\r\n\r\n    // Briefly set the 'commenting' URL param while the utterances script is created\r\n    // This ensures the script is initialized with the correct redirect_uri for GitHub OAuth\r\n    params.set('commenting', true)\r\n    const redirectUrl = `${window.location.pathname}?${params.toString()}`;\r\n    window.history.replaceState(null, '', redirectUrl);\r\n\r\n    // Append the Utterances script to the container\r\n    while (container.current.firstChild) {\r\n      const previousNode = container.current.getElementsByClassName('utterances')[0];\r\n      if (previousNode) container.current.removeChild(previousNode);\r\n      // container.current.removeChild(previousNode);\r\n      // container.current.firstChild.remove();\r\n    }\r\n    container.current.appendChild(script);\r\n\r\n    // Once the script has loaded remove the 'commenting' URL param again\r\n    script.onload = () => {\r\n      params.delete('commenting');\r\n      const search = params.toString();\r\n      const originalUrl = window.location.pathname + (search && `?${search}`)\r\n      window.history.replaceState(null, '', originalUrl)\r\n    }\r\n  });\r\n\r\n  return <div className=\"post-comments\" ref={container} />\r\n}\r\n\r\nexport default connect(state => ({\r\n  isNightMode: state.app.isNightMode\r\n}), null)(Comments);\r\n","import React from \"react\";\r\nimport { graphql, Link } from \"gatsby\";\r\nimport Layout from \"../components/layout\";\r\nimport TopButton from \"../components/main/TopButton\";\r\nimport TableContents from \"../components/main/TableContents\";\r\nimport MetaTags from 'src/components/MetaTags';\r\nimport HeaderBack from \"src/components/HeaderBack\";\r\nimport NameCard from \"src/components/NameCard\";\r\nimport Comments from \"src/components/comments\";\r\nimport \"./post.scss\";\r\nimport \"./themeModify.scss\";\r\nimport \"prismjs/themes/prism-tomorrow.css\";\r\n\r\nexport const query = graphql`\r\n  query($slug: String!) {\r\n    markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      html\r\n      frontmatter {\r\n        title\r\n        tags\r\n        date(formatString: \"DD MMMM, YYYY\")\r\n      }\r\n      headings {\r\n        value\r\n        depth\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default ({ data, pageContext }) => {\r\n  const { next, prev } = pageContext;\r\n  const post = data.markdownRemark;\r\n  const { title, tags } = data.markdownRemark.frontmatter; // { image }\r\n\r\n  // thumbnail={thumbnail && url + thumbnail}\r\n  // url={url}\r\n  // pathname={props.location.pathname}\r\n  return (\r\n    <Layout>\r\n      <MetaTags\r\n        title={title}\r\n        description={data.markdownRemark.excerpt}\r\n      />\r\n      <main>\r\n        <article className=\"post\">\r\n          <header className=\"post__header\">\r\n            <h1>{post.frontmatter.title}</h1>\r\n            <span>{post.frontmatter.date}</span>\r\n            <HeaderBack />\r\n          </header>\r\n\r\n          <section className=\"post__contents\">\r\n            <TableContents headings={post.headings} />\r\n            {tags && <PostTags tags={tags} />}\r\n            <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: post.html }} />\r\n          </section>\r\n\r\n          <section className=\"post__footer\">\r\n            <PostNavi prev={prev} next={next} />\r\n            <NameCard />\r\n            <Comments />\r\n            <TopButton />\r\n          </section>\r\n        </article>\r\n      </main>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst PostTags = (props) => {\r\n  const { tags } = props;\r\n  return (\r\n    <div className=\"inner-tags\" >\r\n      {tags.map((tag, i) => (\r\n        <a href={`/${tag}`} key={i} >\r\n          {tag}\r\n        </a>\r\n      ))}\r\n    </div>\r\n  )\r\n};\r\n\r\nconst PostNavi = (props) => {\r\n  const { prev, next } = props;\r\n  return (\r\n    <div className=\"navi\">\r\n    {prev &&\r\n      <Link to={prev.node.fields.slug} className=\"navi__prev\">\r\n        <span>&larr;</span>\r\n        <p>{prev.node.frontmatter.title}</p>\r\n      </Link>\r\n    }\r\n    {next &&\r\n      <Link to={next.node.fields.slug} className=\"navi__next\">\r\n        <p>{next.node.frontmatter.title}</p>\r\n        <span>&rarr;</span>\r\n      </Link>\r\n    }\r\n    </div>\r\n  );\r\n};\r\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n"],"sourceRoot":""}