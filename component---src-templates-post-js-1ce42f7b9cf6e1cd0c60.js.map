{"version":3,"sources":["webpack:///./src/components/main/TopButton.js","webpack:///./src/components/main/TableContents.js","webpack:///./src/components/MetaTags/MetaTags.js","webpack:///./src/components/HeaderBack/HeaderBack.js","webpack:///./src/templates/post.js"],"names":["TopButton","props","_this","_Component","call","this","topButton","React","createRef","scrollUp","bind","assertThisInitialized_default","toggleClass","toggleClassThrottle","throttle","event","current","scrollTopValue","document","documentElement","scrollTop","scrollingElement","classList","contains","preventDefault","remove","add","duration","cosParameter","window","scrollY","currentPhase","timestampOld","performance","now","requestAnimationFrame","animateScroll","timestampNew","tsDiff","Math","round","PI","clearTimeout","timeoutEvent","setTimeout","pos","cos","scrollTo","componentDidMount","addEventListener","passive","componentWillUnmount","removeEventListener","render","react_default","a","createElement","ref","className","Component","TableContents","state","step","node","asideRef","asideNodes","article","headings","header","info","intervals","scrollTops","currTop","prevTop","revision","getTableContents","setIntervals","setCurrentScrollState","setComponentNode","setTableContentsPos","handleHighlight","bindScrollEvents","scrollThrottle","triggerScrollTo","setScrollTo","lockRelatedComponet","releaseRelatedComponet","_this$node$header$cla","classNames","map","apply","blockName","idx","targetTop","getElementsByClassName","offsetTop","currentTop","distance","scrolling","setState","_this$info","currStep","i","length","push","shift","tableContentsPos","offsetWidth","style","transform","contents","slice","heading","children","array","forEach","test","tagName","app","getElementById","aside","parentNode","getElementsByTagName","_this$props","name","TableContents_ListItem","ListItem","head","classnames","depth","key","join","onClick","value","defaultProps","propTypes","PropTypes","number","isRequired","string","MetaTags","Helmet_default","title","meta","content","property","pathname","url","thumbnail","lang","HeaderBack","isNightMode","back","setTransition","clearTransition","setToggleBack","setToggleBackThrottle","height","themeNodes","themes","states","_node$classList","selector","offsetHeight","setBackInfo","getSnapshotBeforeUpdate","prevProps","prevState","isNightModeh","componentDidUpdate","snapshot","getDerivedStateFromProps","nextProps","connect","bool","__webpack_require__","d","__webpack_exports__","query","PostTags","_ref","data","pageContext","next","prev","post","markdownRemark","_data$markdownRemark$","frontmatter","tags","layout","MetaTags_MetaTags","description","excerpt","date","components_HeaderBack_HeaderBack","components_main_TableContents","post_PostTags","dangerouslySetInnerHTML","__html","html","post_PostNavi","NameCard","components_main_TopButton","tag","href","PostNavi","gatsby_browser_entry","to","fields","slug"],"mappings":"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","file":"component---src-templates-post-js-1ce42f7b9cf6e1cd0c60.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport throttle from \"../common/throttle.js\"\r\nimport \"./TopButton.scss\";\r\n\r\nclass TopButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.topButton = React.createRef();\r\n    this.scrollUp = this.scrollUp.bind(this);\r\n    this.toggleClass = this.toggleClass.bind(this);\r\n    this.toggleClassThrottle = throttle(this.toggleClass, 200);\r\n  }\r\n\r\n  toggleClass(event) {\r\n    const topButton = this.topButton.current;\r\n    const scrollTopValue\r\n      = document.documentElement.scrollTop || document.scrollingElement.scrollTop;\r\n\r\n    if (topButton.classList.contains('clicked')) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (scrollTopValue < 1000\r\n      && topButton.classList.contains('fade-in')) {\r\n      topButton.classList.remove('fade-in');\r\n\r\n    } else if (1000 < scrollTopValue\r\n      && !topButton.classList.contains('fade-in')) {\r\n      topButton.classList.add('fade-in');\r\n    }\r\n  }\r\n\r\n  scrollUp() {\r\n    const topButton = this.topButton.current;\r\n    if (topButton.classList.contains('clicked')) {\r\n      return;\r\n    }\r\n\r\n    const duration = 1000;\r\n    const cosParameter = window.scrollY / 2;\r\n    let currentPhase = 0;\r\n    let timestampOld = performance.now();\r\n\r\n    function animateScroll() {\r\n      const timestampNew = performance.now();\r\n      const tsDiff = Math.round(timestampNew - timestampOld);\r\n      timestampOld = timestampNew;\r\n\r\n      currentPhase += Math.PI / (duration / tsDiff);\r\n      if (currentPhase >= Math.PI) {\r\n        clearTimeout(this.timeoutEvent);\r\n        this.timeoutEvent = function () {\r\n          topButton.classList.remove('clicked');\r\n        }\r\n\r\n        setTimeout(this.timeoutEvent, 300);\r\n        return;\r\n      }\r\n\r\n      const pos = Math.round(cosParameter * Math.cos(currentPhase) + cosParameter);\r\n      window.scrollTo(0, pos);\r\n      window.requestAnimationFrame(animateScroll.bind(this));\r\n    }\r\n\r\n    topButton.classList.add('clicked');\r\n    window.requestAnimationFrame(animateScroll.bind(this));\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.toggleClassThrottle, { passive: true });\r\n    this.topButton.current.addEventListener('click', this.scrollUp);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.toggleClassThrottle);\r\n    this.topButton.current.removeEventListener('click', this.scrollUp);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        ref={this.topButton}\r\n        className=\"top-button\"\r\n      >\r\n        <span>↑</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TopButton;\r\n","import React, { Component }  from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport throttle from \"../common/throttle\"\r\nimport \"./TableContents.scss\"\r\n\r\n\r\nclass TableContents extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      step: this.props.step\r\n    };\r\n\r\n    this.node = {\r\n      asideRef: React.createRef(),\r\n      asideNodes : null,\r\n      article: null,\r\n      headings: null,\r\n      header: null\r\n    };\r\n\r\n    this.info = {\r\n      intervals: [],\r\n      scrollTops: [],\r\n      currTop: 0,\r\n      prevTop: 0,\r\n      revision: 100,\r\n      step: 0,\r\n    };\r\n\r\n    this.getTableContents = this.getTableContents.bind(this);\r\n    this.setIntervals = this.setIntervals.bind(this);\r\n    this.setCurrentScrollState = this.setCurrentScrollState.bind(this)\r\n    this.setComponentNode = this.setComponentNode.bind(this);\r\n\r\n    this.setTableContentsPos = this.setTableContentsPos.bind(this);\r\n    this.handleHighlight = this.handleHighlight.bind(this);\r\n\r\n    this.bindScrollEvents = this.bindScrollEvents.bind(this);\r\n    this.scrollThrottle = throttle(this.bindScrollEvents, 100);\r\n\r\n    this.triggerScrollTo = this.triggerScrollTo.bind(this);\r\n    this.setScrollTo = this.setScrollTo.bind(this);\r\n    this.lockRelatedComponet = this.lockRelatedComponet.bind(this);\r\n    this.releaseRelatedComponet = this.releaseRelatedComponet.bind(this);\r\n  }\r\n\r\n  releaseRelatedComponet() {\r\n    this.node.asideRef.current.classList.remove('lock')\r\n    this.node.header.classList.remove('lock');\r\n  }\r\n\r\n  lockRelatedComponet() {\r\n    const blockName = 'main-header';\r\n    const classNames = [ '--fade-in', '--fade-out', '--docking' ]\r\n      .map(className => blockName + className);\r\n\r\n    this.node.header.classList.remove(...classNames);\r\n    this.node.header.classList.add(`${blockName}--fade-out`, `lock`);\r\n    this.node.asideRef.current.classList.add('lock');\r\n  }\r\n\r\n  triggerScrollTo(event, idx) {\r\n    if (!this.node.asideRef.current.classList.contains('lock')) {\r\n      this.lockRelatedComponet();\r\n      this.setScrollTo(event, idx);\r\n    }\r\n  }\r\n\r\n  setScrollTo(event, idx) {\r\n    const contentsTop = document.getElementsByClassName('post__contents')[0].offsetTop;\r\n    const headingTop = Math.round(this.node.headings[idx].offsetTop);\r\n    const targetTop = contentsTop + headingTop;\r\n    const currentTop = this.info.currTop;\r\n    const distance = Math.round(currentTop - targetTop) / 2;\r\n    const duration = 1000;\r\n    let currentPhase = 0;\r\n    let timestampOld = performance.now();\r\n\r\n    window.requestAnimationFrame(scrolling.bind(this));\r\n\r\n    function scrolling() {\r\n      const timestampNew = performance.now();\r\n      const tsDiff = Math.round(timestampNew - timestampOld);\r\n      timestampOld = timestampNew;\r\n\r\n      currentPhase += Math.PI / (duration / tsDiff);\r\n      if (currentPhase >= Math.PI) {\r\n        this.releaseRelatedComponet();\r\n        this.info.step = idx;\r\n        this.setState({ step: this.info.step });\r\n        return;\r\n      }\r\n\r\n      window.scrollTo(0, distance * Math.cos(currentPhase) + distance + targetTop);\r\n      window.requestAnimationFrame(scrolling.bind(this));\r\n    }\r\n  }\r\n\r\n  handleHighlight() {\r\n    const { intervals, currTop, step } = this.info;\r\n    // const isTopdown = prevTop <= currTop ? true : false;\r\n    let currStep = step;\r\n\r\n    for (let i = currStep; i < intervals.length; i++) {\r\n      if (intervals[i] <= currTop) {\r\n        currStep = i;\r\n      }\r\n    }\r\n\r\n    /*\r\n    const dir = isTopdown ? revision : (revision * -1);\r\n    const sightTop = currTop + dir;\r\n    const fExpression = i => isTopdown ? ++i : --i;\r\n    const fCondition = i => isTopdown ? i < intervals.length - 1 : 0 < i;\r\n\r\n    for (let i = step; fCondition(i); i = fExpression(i)) {\r\n      const prev = intervals[i], next = intervals[i + 1];\r\n      const first = intervals[0], last = intervals[intervals.length - 1];\r\n\r\n      if (sightTop < first) {\r\n        this.info.step = 0;\r\n        break;\r\n      }\r\n\r\n      else if (first <= sightTop && sightTop < prev) {\r\n        // 논리 오류있는 부분 수정할 것\r\n        // this.info.step = i - 1;\r\n        // break;\r\n      }\r\n\r\n      else if (first <= sightTop && (prev < sightTop && sightTop < next)) {\r\n        this.info.step = i;\r\n        break;\r\n      }\r\n\r\n      else if (first <= sightTop && last < sightTop) {\r\n        this.info.step = intervals.length - 1;\r\n        break;\r\n      }\r\n    }\r\n    */\r\n\r\n    if (this.state.step !== currStep) {\r\n      this.setState({ step: currStep });\r\n    }\r\n  }\r\n\r\n  bindScrollEvents() {\r\n    this.setCurrentScrollState();\r\n    this.handleHighlight();\r\n  }\r\n\r\n  setCurrentScrollState() {\r\n    const scrollTop = document.documentElement.scrollTop || document.scrollingElement.scrollTop\r\n    this.info.scrollTops.push(Math.round(scrollTop));\r\n    if (this.info.scrollTops.length > 1) {\r\n      this.info.prevTop = this.info.scrollTops.shift();\r\n    }\r\n\r\n    this.info.currTop = this.info.scrollTops[0];\r\n  }\r\n\r\n  // === 집에가서 수정할 부분 ===\r\n  setTableContentsPos() {\r\n    // const doc = document.body;\r\n    const article = this.node.article;\r\n    // const docAutoMarginVal = doc.offsetWidth - article.offsetWidth;\r\n    // const tableContentsPos = article.offsetWidth + (docAutoMarginVal / 2);\r\n    const tableContentsPos = article.offsetWidth;\r\n\r\n    this.node.asideRef.current.style.transform = `translateX(${ tableContentsPos }px)`;\r\n  }\r\n  // ==============================\r\n\r\n  setIntervals() {\r\n    const contents = document.getElementsByClassName('post__contents')[0];\r\n    this.info.intervals = [].slice.apply(this.node.headings).map((heading) => {\r\n      return heading.offsetTop + contents.offsetTop;\r\n    });\r\n  }\r\n\r\n  getTableContents() {\r\n    const children = [].slice.apply(this.node.contents.getElementsByClassName('markdown')[0].children);\r\n    let array = [];\r\n\r\n    children.forEach(node => {\r\n      if (/^H[1-6]$/.test(node.tagName)) array.push(node);\r\n    });\r\n\r\n    return array;\r\n  }\r\n\r\n  setComponentNode() {\r\n    const app = document.getElementById('___gatsby');\r\n    const aside = this.node.asideRef.current;\r\n\r\n    this.node.article = aside.parentNode;\r\n    this.node.asideNodes = [].slice.apply(aside.getElementsByTagName('li'));\r\n    this.node.header = app.getElementsByClassName('main-header')[0];\r\n    this.node.contents = app.getElementsByClassName('post__contents')[0];\r\n    this.node.headings = this.getTableContents();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setComponentNode();\r\n    this.setIntervals();\r\n    this.setTableContentsPos();\r\n\r\n    window.addEventListener('scroll', this.scrollThrottle, { passive: true });\r\n    window.addEventListener('resize', this.setTableContentsPos, { passive: true });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.scrollThrottle);\r\n    window.removeEventListener('resize', this.setTableContentsPos);\r\n  }\r\n\r\n  render() {\r\n    const { step } = this.state;\r\n    const { name, headings } = this.props;\r\n    return (\r\n      <div className=\"toc\" ref={this.node.asideRef}>\r\n        <p className=\"toc__title\">{name}</p>\r\n        <ul className=\"toc__list\">\r\n          <ListItem headings={headings} step={step} scrollTo={this.triggerScrollTo} />\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ListItem = (props) => {\r\n  const { headings, step, scrollTo } = props;\r\n  return headings.map((head, idx) => {\r\n    const classnames = [\r\n      `toc__item`, `h${head.depth}`, `${idx === step ? 'on' : ''}`\r\n    ];\r\n\r\n    return (\r\n      <li\r\n        key={`toc-${idx}`}\r\n        className={classnames.join(' ')}\r\n        onClick={event => scrollTo(event, idx)}\r\n      >\r\n        {head.value}\r\n      </li>\r\n    );\r\n  })\r\n};\r\n\r\nTableContents.defaultProps = {\r\n  step: 0,\r\n  name: '목차'\r\n};\r\n\r\nTableContents.propTypes = {\r\n  step: PropTypes.number.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default TableContents;\r\n","import React from 'react';\r\nimport Helmet from 'react-helmet'\r\n\r\nfunction MetaTags(props) {\r\n  return (\r\n    <Helmet\r\n      title={props.title}\r\n      meta={[\r\n        { name: 'title', content: props.title + `| eunha's dev` },\r\n        { name: 'description', content: '은하의 개발 블로그입니다.' }, //props.description },\r\n        {\r\n          property: 'og:title',\r\n          content: props.title,\r\n        },\r\n        {\r\n          property: 'og:url',\r\n          content: props.pathname ? props.url + props.pathname : props.url,\r\n        },\r\n        {\r\n          property: 'og:image',\r\n          content: props.thumbnail && props.thumbnail,\r\n        },\r\n        {\r\n          property: 'og:image:secure_url',\r\n          content: props.thumbnail && props.thumbnail,\r\n        },\r\n        {\r\n          property: 'og:description',\r\n          content: '은하의 개발 블로그입니다.' //props.description,\r\n        },\r\n        {\r\n          property: 'og:image:width',\r\n          content: '1200',\r\n        },\r\n        {\r\n          property: 'og:image:height',\r\n          content: '630',\r\n        },\r\n        {\r\n          property: 'og:locale',\r\n          content: 'en',\r\n        },\r\n        { name: 'twitter:card', content: 'summary_large_image' },\r\n        { name: 'twitter:title', content: props.title },\r\n        {\r\n          name: 'twitter:description',\r\n          content: '은하의 개발 블로그입니다.' // props.description,\r\n        },\r\n        {\r\n          name: 'twitter:image',\r\n          content: props.thumbnail && props.thumbnail,\r\n        },\r\n        { property: 'og:type', content: 'website' },\r\n        { name: 'robots', content: 'index, follow' },\r\n\r\n        { name: 'twitter:creator', content: '@eunha0ne' },\r\n        { property: 'og:site_name', content: `eunha's dev` }\r\n      ]}\r\n    >\r\n      <html lang=\"en\" />\r\n    </Helmet>\r\n  );\r\n}\r\n\r\nexport default MetaTags;\r\n","import React, { Component }  from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport throttle from \"src/components/common/throttle.js\"\r\nimport { connect } from 'react-redux';\r\n// import { toggleTheme } from 'src/state/app';\r\nimport \"./HeaderBack.scss\";\r\n\r\nclass HeaderBack extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isNightMode: this.props.isNightMode,\r\n    };\r\n\r\n    this.node = { back: React.createRef() };\r\n    this.info = { };\r\n\r\n    this.setTransition = this.setTransition.bind(this);\r\n    this.clearTransition = this.clearTransition.bind(this);\r\n    this.setToggleBack = this.setToggleBack.bind(this);\r\n    this.setToggleBackThrottle = throttle(this.setToggleBack, 100);\r\n  }\r\n\r\n  setToggleBack() {\r\n    const scrollTop = document.documentElement.scrollTop || document.scrollingElement.scrollTop;\r\n    const backHeight = this.info.back.height;\r\n\r\n    if (scrollTop >= backHeight) this.clearTransition();\r\n    else this.setTransition();\r\n  }\r\n\r\n  clearTransition() {\r\n    const themeNodes = this.node.themes;\r\n    const states = [ 'enter', 'done' ];\r\n\r\n    themeNodes.forEach(node => node.classList.remove(...states));\r\n  }\r\n\r\n  setTransition() {\r\n    const selector = this.state.isNightMode ? 'night' : 'day';\r\n    const node = this.node.back.current.getElementsByClassName(selector)[0];\r\n\r\n    node.classList.add('enter');\r\n    setTimeout(() => { node.classList.add('done') }, 30);\r\n  }\r\n\r\n  setComponentNode() {\r\n    const back = this.node.back.current;\r\n    this.info.back = { height: back.offsetHeight };\r\n    this.node.themes = [\r\n      back.getElementsByClassName('day')[0],\r\n      back.getElementsByClassName('night')[0]\r\n    ];\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setComponentNode();\r\n    this.setTransition();\r\n\r\n    window.addEventListener('scroll', this.setToggleBackThrottle, { passive: true });\r\n    window.addEventListener('resize', this.setBackInfo, { passive: true });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.setToggleBackThrottle);\r\n    window.removeEventListener('resize', this.setBackInfo);\r\n  }\r\n\r\n  getSnapshotBeforeUpdate(prevProps, prevState) {\r\n    // console.log('prevProps', prevProps.isNightMode, 'this.props', this.props.isNightMode)\r\n    if (prevProps.isNightModeh !== this.props.isNightMode) {\r\n      return prevProps.isNightMode;\r\n    } else return null;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    // console.log(prevProps, prevState, 'snapshot', snapshot)\r\n    if (snapshot !== null) {\r\n      this.clearTransition();\r\n      this.setTransition();\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.isNightMode !== nextProps.isNightMode) {\r\n      return { isNightMode: nextProps.isNightMode };\r\n    } else return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n     <div ref={this.node.back} className=\"header-back\" >\r\n       <ul className=\"day\">\r\n         <li className=\"cactus\"></li>\r\n         <li className=\"cloud c1\"></li>\r\n         <li className=\"cloud c2\"></li>\r\n       </ul>\r\n       <ul className=\"night\">\r\n         <li className=\"star s1\"></li>\r\n         <li className=\"star s2\"></li>\r\n         <li className=\"star s3\"></li>\r\n         <li className=\"star s4\"></li>\r\n         <li className=\"star s5\"></li>\r\n         <li className=\"star s6\"></li>\r\n       </ul>\r\n     </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default HeaderBack;\r\nexport default connect(state => {\r\n  return ({ isNightMode: state.app.isNightMode });\r\n}, null)(HeaderBack);\r\n\r\nHeaderBack.propTypes = {\r\n  isNightMode: PropTypes.bool,\r\n};\r\n","import React from \"react\";\r\nimport { graphql, Link } from \"gatsby\";\r\nimport Layout from \"../components/layout\";\r\nimport TopButton from \"../components/main/TopButton\";\r\nimport TableContents from \"../components/main/TableContents\"\r\n\r\nimport MetaTags from 'src/components/MetaTags';\r\nimport HeaderBack from \"src/components/HeaderBack\"\r\nimport NameCard from \"src/components/NameCard\"\r\n\r\nimport \"./post.scss\";\r\nimport \"./themeModify.scss\";\r\nimport \"prismjs/themes/prism-tomorrow.css\";\r\n\r\nexport const query = graphql`\r\n  query($slug: String!) {\r\n    markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      html\r\n      frontmatter {\r\n        title\r\n        tags\r\n        date(formatString: \"DD MMMM, YYYY\")\r\n      }\r\n      headings {\r\n        value\r\n        depth\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default ({ data, pageContext }) => {\r\n  const { next, prev } = pageContext;\r\n  const post = data.markdownRemark;\r\n  const { title, tags } = data.markdownRemark.frontmatter; // { image }\r\n\r\n  // thumbnail={thumbnail && url + thumbnail}\r\n  // url={url}\r\n  // pathname={props.location.pathname}\r\n  return (\r\n    <Layout>\r\n      <MetaTags\r\n        title={title}\r\n        description={data.markdownRemark.excerpt}\r\n      />\r\n      <main>\r\n        <article className=\"post\">\r\n          <header className=\"post__header\">\r\n            <h2>{post.frontmatter.title}</h2>\r\n            <span>{post.frontmatter.date}</span>\r\n            <HeaderBack />\r\n          </header>\r\n\r\n          <div className=\"post__contents\">\r\n            <TableContents headings={post.headings} />\r\n            {tags && <PostTags tags={tags} />}\r\n            <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: post.html }} />\r\n          </div>\r\n\r\n          <footer className=\"post__footer\">\r\n            <PostNavi prev={prev} next={next} />\r\n            <NameCard/>\r\n            <TopButton/>\r\n          </footer>\r\n        </article>\r\n      </main>\r\n    </Layout>\r\n  );\r\n};\r\n\r\n// <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: post.html }} />\r\n\r\nconst PostTags = (props) => {\r\n  const { tags } = props;\r\n  return (\r\n    <div className=\"inner-tags\" >\r\n      {tags.map((tag, i) => (\r\n        <a href={`/${tag}`} key={i} >\r\n          {tag}\r\n        </a>\r\n      ))}\r\n    </div>\r\n  )\r\n};\r\n\r\nconst PostNavi = (props) => {\r\n  const { prev, next } = props;\r\n  return (\r\n    <div className=\"navi\">\r\n    {prev &&\r\n      <Link to={prev.node.fields.slug} className=\"navi__prev\">\r\n        <span>&larr;</span>\r\n        <p>{prev.node.headings.length > 0 && prev.node.frontmatter.title}</p>\r\n      </Link>\r\n    }\r\n    {next &&\r\n      <Link to={next.node.fields.slug} className=\"navi__next\">\r\n        <p>{next.node.headings.length > 0 && next.node.frontmatter.title}</p>\r\n        <span>&rarr;</span>\r\n      </Link>\r\n    }\r\n    </div>\r\n  );\r\n};\r\n"],"sourceRoot":""}